Unlucky Dungeon Adventure ‚Äî Camera System v2.0
üéØ –¶–µ–ª—å —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –¥–ª—è:

–ø–æ–≤—ã—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–µ–∞–∫—Ü–∏–∏;

–ø–ª–∞–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö –∏ –ü–ö;

—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –º–∏–Ω–∏–∫–∞—Ä—Ç–æ–π, –∫–ª–∏–∫–æ–º –ø–æ —Ç–∞–π–ª–∞–º –∏ –¥–≤–∏–∂–µ–Ω–∏–µ–º –∫–∞–º–µ—Ä—ã;

–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (SOLID), —á—Ç–æ–±—ã –ª–æ–≥–∏–∫—É –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å.

–¢–µ–ø–µ—Ä—å –∫–∞–º–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –∏–≥—Ä–∞—Ö: –ª–µ–≥–∫–æ, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, —Å –∏–Ω–µ—Ä—Ü–∏–µ–π –∏ —á—ë—Ç–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.

üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
üìå 1. CameraMaster.cs

–ì–ª–∞–≤–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∞—Å—Å ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π MonoBehaviour.

–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:

–≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥—É–ª–∏ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä;

–ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç WorldMapController/MinimapController;

–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç Pan / Zoom / AutoCenter –≤ –µ–¥–∏–Ω—ã–π –ø–æ—Ç–æ–∫.

–ù–µ –¥–µ–ª–∞–µ—Ç:

‚úñ –æ–±—Ä–∞–±–æ—Ç–∫—É drag
‚úñ –ª–æ–≥–∏–∫—É —É–≤–µ–ª–∏—á–µ–Ω–∏—è/—É–º–µ–Ω—å—à–µ–Ω–∏—è –∑—É–º–∞
‚úñ –∞–≤—Ç–æ–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

–í—Å—ë —ç—Ç–æ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è –º–æ–¥—É–ª—è–º.

üìå 2. CameraPanModule.cs

–ú–æ–¥—É–ª—å –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–º–µ—Ä—ã (—Ç—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª –∏ —Å–æ–∑–¥–∞–ª –µ–≥–æ).

–ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç:

‚úî drag –º—ã—à—å—é
‚úî drag –ø–∞–ª—å—Ü–µ–º
‚úî –ø–ª–∞–≤–Ω–∞—è –∏–Ω–µ—Ä—Ü–∏—è
‚úî —Ä–µ–∑–∫–æ–µ –Ω–∞—á–∞–ª–æ –∏ –º—è–≥–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
‚úî –∑–∞—â–∏—Ç–∞ –æ—Ç –≤–≤–æ–¥–∞ –º–∏–Ω–∏–∫–∞—Ä—Ç—ã
‚úî —É–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—á—Ç–æ–±—ã –∫–∞–º–µ—Ä–∞ –¥–≤–∏–≥–∞–ª–∞—Å—å –±—ã—Å—Ç—Ä–µ–µ)

–ß—Ç–æ –ù–ï –¥–µ–ª–∞–µ—Ç:

‚úñ –Ω–µ –º–µ–Ω—è–µ—Ç –∑—É–º
‚úñ –Ω–µ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –∫–∞–º–µ—Ä—É
‚úñ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Update()

–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ CameraMaster.

üìå 3. CameraZoomModule.cs (–ø–æ–¥–∫–ª—é—á–∏–º –ø–æ–∑–∂–µ)

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∑—É–º–∞ (zoomSteps)

–∫–æ–ª–µ—Å–æ –º—ã—à–∏

pinch –∂–µ—Å—Ç—ã

–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–∏–Ω–∏/–º–∞–∫—Å–∏–º—É–º–∞

–ø–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ orthographicSize

üìå 4. CameraAutoCenter.cs

–¢—ã –ø—Ä–∏—Å–ª–∞–ª —ç—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –º—ã –æ—Å—Ç–∞–≤–∏–ª–∏ –µ–≥–æ, –Ω–æ —Ç–µ–ø–µ—Ä—å –æ–Ω:

‚úî –º–æ–¥—É–ª—å
‚úî –Ω–µ MonoBehaviour
‚úî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CameraMaster
‚úî —É–º–µ–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –∏–ª–∏ –∫–∞—Å–∞–Ω–∏–∏
‚úî –¥–≤–∏–≥–∞–µ—Ç –∫–∞–º–µ—Ä—É —Å—Ç—Ä–æ–≥–æ –ª–∏–Ω–µ–π–Ω–æ, –±–µ–∑ –¥—Ä–æ–∂–∏

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏:

–ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ –º–∏–Ω–∏–∫–∞—Ä—Ç–µ (—Ç–∞–ø –Ω–∞ –º–∏–Ω–∏–∫–∞—Ä—Ç—É ‚Üí auto center)

—Å—Ç–∞—Ä—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏ (—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≥–µ—Ä–æ—è)

—Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–≤–æ–π –æ–±—ä–µ–∫—Ç "–ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –∫–∞–º–µ—Ä—É"

üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø
üîπ CameraMaster —Ä–µ—à–∞–µ—Ç ‚Äú—á—Ç–æ –¥–µ–ª–∞—Ç—å‚Äù
üîπ –ú–æ–¥—É–ª–∏ —Ä–µ—à–∞—é—Ç ‚Äú–∫–∞–∫ –¥–µ–ª–∞—Ç—å‚Äù

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–±–æ—Ä–∏–º–æ—Å—Ç—å, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª—é–∫–æ–≤ –∏–∑-–∑–∞ —Å–º–µ—à–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.

üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏
Assets/Scripts/CameraSystem/
    CameraMaster.cs
    CameraPanModule.cs
    CameraZoomModule.cs     (–±—É–¥–µ—Ç –ø–æ–∑–∂–µ)
    CameraAutoCenter.cs     (—Ç–≤–æ–π —Ñ–∞–π–ª, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω)
    CameraInterfaces/

üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Unity

–ß—Ç–æ–±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ:

‚úî –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –∫–∞–º–µ—Ä—ã:

MapMove.cs

CameraPan.cs

–ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç transform –∫–∞–º–µ—Ä—ã

‚úî –ù–∞ –æ–±—ä–µ–∫—Ç MainCamera –ø–æ–≤–µ—Å–∏—Ç—å CameraMaster.cs
‚úî –í CameraMaster –≤—ã—Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

Drag Speed (0.005‚Äì0.015)

Inertia Damp (0.85‚Äì0.92)

Zoom Steps (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏–º –º–æ–¥—É–ª—å)

Auto-center Speed (20‚Äì40)

Auto-center Stop Distance (0.05‚Äì0.15)

‚úî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MinimapController –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —Å–≤–æ—ë–º –æ–±—ä–µ–∫—Ç–µ ‚Äî –æ–Ω –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.
üîç –ß—Ç–æ –º—ã –∑–∞–º–µ–Ω–∏–ª–∏ –∏ –Ω–∞ –∫–æ–≥–æ
–°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª / —Å–∏—Å—Ç–µ–º–∞	–°—Ç–∞—Ç—É—Å	–ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
MapMove.cs	‚ùå —É–¥–∞–ª—ë–Ω	CameraPanModule.cs + CameraZoomModule.cs ‚úî
CameraPan.cs	‚ùå –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω	CameraPanModule.cs	‚úî
—Å—Ç–∞—Ä—ã–π autoCenter –≤ CameraPan	‚ùå —É–¥–∞–ª—ë–Ω	CameraAutoCenter.cs
–ø—Ä—è–º–∞—è –ª–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –≤ WorldMapController	‚ö† —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–∞	—á–µ—Ä–µ–∑ CameraMaster.CenterTo()
—Ä—É—á–Ω–æ–π zoom	‚ùå —É–¥–∞–ª—ë–Ω	CameraZoomModule.cs (–≤ –±—É–¥—É—â–µ–º)
üß† –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–º–µ—Ä–∞
‚úî –ü–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ

CameraMaster –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä –≤—ã–∑—ã–≤–∞–µ—Ç:

pan.ProcessPan();
pan.ApplyInertia();

‚úî –ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ WorldMapController:

CameraMaster.Instance.CenterTo(position);

‚úî –ó—É–º

(–ø–æ–∑–∂–µ, –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è)

zoom.ProcessZoom();


REMOVE MapMove from MainCamera